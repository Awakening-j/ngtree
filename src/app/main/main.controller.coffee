angular.module 'ngTree'
  .controller 'MainController', ($scope) ->
    'ngInject'
    
    data = {"summary":{"name":"StrutsAction\/menu","dateStart":"1441605438","duration":2232,"agent":"jav424)","category":["duration"],"series":[{"data":[58],"duration":2019,"count":3,"name":"10.10.100.23"},{"data":[23],"duration":801,"count":5,"name":"Utill_SRedis::getKeys"},{"data":[13],"duration":201,"count":4,"name":"MongodbDB ypc.tasks insert"}]},"detail":[{"name":"Root","startTime":1469157084000,"timestamp":0,"duration":30000,"proportion":100,"info":[],"alert":2,"list":[{"name":"Filter - StrutsPrepareAndExecuteFilter#doFilter","backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"timestamp":0,"duration":30000,"proportion":100,"startTime":1469157084000,"alert":2,"info":[],"list":[{"name":"StrutsAction\/menu","backtrace":["org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"timestamp":0,"duration":30000,"proportion":100,"startTime":1469157084100,"info":[],"alert":2,"list":[{"backtrace":["org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"menu - select","timestamp":0,"duration":200,"proportion":10,"info":[],"list":[],"alert":0,"startTime":1469157084200},{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)"],"name":"StrutsResult\/com.struts2.menu.Action","timestamp":30,"duration":360,"proportion":57,"info":[],"alert":0,"startTime":1469157084560,"list":[{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"Filter - WsFilter#doFilter","timestamp":30,"duration":170,"proportion":57,"info":[],"startTime":1469157084560,"list":[{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"JspServlet#service","timestamp":30,"duration":170,"proportion":57,"info":[],"startTime":1469157084560,"list":[{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"menu_jsp#service","timestamp":30,"duration":170,"proportion":57,"startTime":1469157084560,"info":[],"list":[{"backtrace":["org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"menu\/menu","timestamp":30,"duration":170,"startTime":1469157084560,"proportion":57,"alert":"danger","info":[],"list":[]}]}]}]}]},{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"Ext\/com.struts2.menu.HeaderAction","timestamp":200,"duration":28767,"proportion":33,"startTime":1469157089100,"alert":2,"info":[],"list":[{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"ExternalTransaction\/com.struts2.menu.HeaderAction","timestamp":200,"duration":28767,"proportion":20,"alert":2,"info":[],"list":[],"startTime":1469157089100,"isExternal":1,"appName":"testApp"},{"backtrace":["com.tomcat.TomcatServletRequestListener.requestDestroyed(TomcatServletRequestListener.java:49)","org.apache.catalina.core.StandardContext.fireRequestDestroyEvent(StandardContext.java:6283)","org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:211)","org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)","org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)","org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)"],"name":"StrutsResult\/com.struts2.menu.FooterAction","timestamp":260,"duration":40,"proportion":13.3,"startTime":1469157089140,"info":[],"list":[]}]}]}]}]}]}
    
    $scope.nodes = data.detail
    return
